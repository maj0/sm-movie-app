describe('github service', function() {
	var githubData = {"Search":[{
  "login": "OdeToCode",
  "id": 137119,
  "avatar_url": "https://avatars1.githubusercontent.com/u/137119?v=4",
  "gravatar_id": "",
  "url": "https://api.github.com/users/OdeToCode",
  "html_url": "https://github.com/OdeToCode",
  "followers_url": "https://api.github.com/users/OdeToCode/followers",
  "following_url": "https://api.github.com/users/OdeToCode/following{/other_user}",
  "gists_url": "https://api.github.com/users/OdeToCode/gists{/gist_id}",
  "starred_url": "https://api.github.com/users/OdeToCode/starred{/owner}{/repo}",
  "subscriptions_url": "https://api.github.com/users/OdeToCode/subscriptions",
  "organizations_url": "https://api.github.com/users/OdeToCode/orgs",
  "repos_url": "https://api.github.com/users/OdeToCode/repos",
  "events_url": "https://api.github.com/users/OdeToCode/events{/privacy}",
  "received_events_url": "https://api.github.com/users/OdeToCode/received_events",
  "type": "User",
  "site_admin": false,
  "name": "K. Scott Allen",
  "company": "OdeToCode",
  "blog": "http://OdeToCode.com/blogs/scott/",
  "location": "Maryland",
  "email": null,
  "hireable": null,
  "bio": null,
  "public_repos": 45,
  "public_gists": 27,
  "followers": 954,
  "following": 26,
  "created_at": "2009-10-09T00:43:41Z",
  "updated_at": "2017-07-12T09:58:06Z"
	}]};
	var repoData = {
  "id": 24195339,
  "name": "angular",
  "full_name": "angular/angular",
  "owner": {
    "login": "angular",
    "id": 139426,
    "avatar_url": "https://avatars3.githubusercontent.com/u/139426?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/angular",
    "html_url": "https://github.com/angular",
    "followers_url": "https://api.github.com/users/angular/followers",
    "following_url": "https://api.github.com/users/angular/following{/other_user}",
    "gists_url": "https://api.github.com/users/angular/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/angular/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/angular/subscriptions",
    "organizations_url": "https://api.github.com/users/angular/orgs",
    "repos_url": "https://api.github.com/users/angular/repos",
    "events_url": "https://api.github.com/users/angular/events{/privacy}",
    "received_events_url": "https://api.github.com/users/angular/received_events",
    "type": "Organization",
    "site_admin": false
  },
  "private": false,
  "html_url": "https://github.com/angular/angular",
  "description": "One framework. Mobile & desktop.",
  "fork": false,
  "url": "https://api.github.com/repos/angular/angular",
  "forks_url": "https://api.github.com/repos/angular/angular/forks",
  "keys_url": "https://api.github.com/repos/angular/angular/keys{/key_id}",
  "collaborators_url": "https://api.github.com/repos/angular/angular/collaborators{/collaborator}",
  "teams_url": "https://api.github.com/repos/angular/angular/teams",
  "hooks_url": "https://api.github.com/repos/angular/angular/hooks",
  "issue_events_url": "https://api.github.com/repos/angular/angular/issues/events{/number}",
  "events_url": "https://api.github.com/repos/angular/angular/events",
  "assignees_url": "https://api.github.com/repos/angular/angular/assignees{/user}",
  "branches_url": "https://api.github.com/repos/angular/angular/branches{/branch}",
  "tags_url": "https://api.github.com/repos/angular/angular/tags",
  "blobs_url": "https://api.github.com/repos/angular/angular/git/blobs{/sha}",
  "git_tags_url": "https://api.github.com/repos/angular/angular/git/tags{/sha}",
  "git_refs_url": "https://api.github.com/repos/angular/angular/git/refs{/sha}",
  "trees_url": "https://api.github.com/repos/angular/angular/git/trees{/sha}",
  "statuses_url": "https://api.github.com/repos/angular/angular/statuses/{sha}",
  "languages_url": "https://api.github.com/repos/angular/angular/languages",
  "stargazers_url": "https://api.github.com/repos/angular/angular/stargazers",
  "contributors_url": "https://api.github.com/repos/angular/angular/contributors",
  "subscribers_url": "https://api.github.com/repos/angular/angular/subscribers",
  "subscription_url": "https://api.github.com/repos/angular/angular/subscription",
  "commits_url": "https://api.github.com/repos/angular/angular/commits{/sha}",
  "git_commits_url": "https://api.github.com/repos/angular/angular/git/commits{/sha}",
  "comments_url": "https://api.github.com/repos/angular/angular/comments{/number}",
  "issue_comment_url": "https://api.github.com/repos/angular/angular/issues/comments{/number}",
  "contents_url": "https://api.github.com/repos/angular/angular/contents/{+path}",
  "compare_url": "https://api.github.com/repos/angular/angular/compare/{base}...{head}",
  "merges_url": "https://api.github.com/repos/angular/angular/merges",
  "archive_url": "https://api.github.com/repos/angular/angular/{archive_format}{/ref}",
  "downloads_url": "https://api.github.com/repos/angular/angular/downloads",
  "issues_url": "https://api.github.com/repos/angular/angular/issues{/number}",
  "pulls_url": "https://api.github.com/repos/angular/angular/pulls{/number}",
  "milestones_url": "https://api.github.com/repos/angular/angular/milestones{/number}",
  "notifications_url": "https://api.github.com/repos/angular/angular/notifications{?since,all,participating}",
  "labels_url": "https://api.github.com/repos/angular/angular/labels{/name}",
  "releases_url": "https://api.github.com/repos/angular/angular/releases{/id}",
  "deployments_url": "https://api.github.com/repos/angular/angular/deployments",
  "created_at": "2014-09-18T16:12:01Z",
  "updated_at": "2017-07-25T14:02:23Z",
  "pushed_at": "2017-07-25T13:15:39Z",
  "git_url": "git://github.com/angular/angular.git",
  "ssh_url": "git@github.com:angular/angular.git",
  "clone_url": "https://github.com/angular/angular.git",
  "svn_url": "https://github.com/angular/angular",
  "homepage": "https://angular.io",
  "size": 63806,
  "stargazers_count": 26177,
  "watchers_count": 26177,
  "language": "TypeScript",
  "has_issues": true,
  "has_projects": true,
  "has_downloads": true,
  "has_wiki": false,
  "has_pages": false,
  "forks_count": 6635,
  "mirror_url": null,
  "open_issues_count": 1776,
  "forks": 6635,
  "open_issues": 1776,
  "watchers": 26177,
  "default_branch": "master",
  "organization": {
    "login": "angular",
    "id": 139426,
    "avatar_url": "https://avatars3.githubusercontent.com/u/139426?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/angular",
    "html_url": "https://github.com/angular",
    "followers_url": "https://api.github.com/users/angular/followers",
    "following_url": "https://api.github.com/users/angular/following{/other_user}",
    "gists_url": "https://api.github.com/users/angular/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/angular/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/angular/subscriptions",
    "organizations_url": "https://api.github.com/users/angular/orgs",
    "repos_url": "https://api.github.com/users/angular/repos",
    "events_url": "https://api.github.com/users/angular/events{/privacy}",
    "received_events_url": "https://api.github.com/users/angular/received_events",
    "type": "Organization",
    "site_admin": false
  },
  "network_count": 6635,
  "subscribers_count": 2571
};
	var githubApi = {
		/*search: function(query) {
			return githubData;
		}*/		
	};

	beforeEach(angular.mock.module('github'));
	//$http is not available in test environment we nee to provide it
	beforeEach(angular.mock.inject(function(_githubApi_, _$httpBackend_){
			githubApi = _githubApi_;
			$httpBackend = _$httpBackend_;
		}));

	it('should return search github data', function() {
		/*angular.mock.module({
			'githubApi' : {
				search: function(query) {
					return githubData;
				}
			}
		});*/
		/*angular.mock.module(function($provide){
			$provide.factory('githubApi', function() {
				return {
					search: function(query) {
						return githubData;
					}
				}
			});
		});*/
		var response;
		$httpBackend.when('GET', 'https://api.github.com/users/odetocode')
		.respond(200, githubData);
		githubApi.search('odetocode')
		.then(function(data) {
			response = data;
			console.log(angular.mock.dump(response)); //dump=console.log
		});
		expect(response).toEqual(githubData);
	})
	it('should return search github repo data', function() {
		expect(githubApi.repo('angular','angular')).toEqual(repoData);
	})
});